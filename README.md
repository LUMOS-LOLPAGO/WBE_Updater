# 롤파고 업데이트

롤파고 관련 데이터를 주기적으로 업데이트하는 Python 기반 자동화 프로젝트

---

## 현재 운영 정보
1. 티어별 매치 통계 업데이트
    - 대상 소환사: 아이언 ~ 챌린저 전 티어, 티어별 200명
    - 실행 주기: `매일 09:00` (KST)
    - 실행 순서: 상위 → 중위 → 하위 티어 워크플로우가 순차 실행
    - 그룹 구성
        - 상위: 챌린저, 그랜드마스터, 마스터
        - 중위: 다이아몬드, 에메랄드, 플래티넘
        - 하위: 골드, 실버, 브론즈, 아이언
    - 수동 실행: workflow_dispatch를 통해 특정 티어(`tier`) 지정 실행 가능
2. 활성 소환사 전적 업데이트
    - 대상 소환사: 서버 DB에 저장되어 있는 활성 소환사
    - 실행 주기: `매 1시간마다 (정각)`
    - 주요 작업: 전적 갱신 전 소환사의 최신 정보(이름, 태그, 레벨 등) 갱신. Riot API에 존재하지 않는 경우 삭제 처리 후 업데이트 생략.
    - 수동 실행: workflow_dispatch 가능
3. 상대승률 업데이트
    - 대상 매치 티어: IRON ~ CHALLENGER
    - 실행 주기: `매일 13:00` (KST)
    - 수동 실행: workflow_dispatch로 수동 실행 가능
4. 정적데이터 업데이트
    - 대상 데이터: 정적 데이터 (챔피언, 아이템, 룬, 스킬, 스펠 정보)
    - 실행 주기: `매주 월요일 00:00` (KST)
    - 수동 실행: workflow_dispatch로 수동 실행 가능
5. 상위 소환사 일괄 추가
    - 대상 소환사: 챌린저, 그랜드마스터, 마스터 전원
    - 실행 주기: `매일 08:00` (KST)
    - 주요 작업: Riot API에서 상위 티어 소환사 PUUID를 수집하여 서버에 등록. 이미 존재하는 소환사는 건너뜀.
    - 수동 실행: workflow_dispatch로 수동 실행 가능

---

##  환경 변수

- Github Actions에 사용되는 환경 변수는 GitHub Secrets를 통해 관리.
- 로컬 개발환경에서는 .env 파일로 관리.

| 변수명                  | 설명                                                   |
| ----------------------- | ------------------------------------------------------ |
| `RIOT_API_KR_ROOT`      | Riot API 루트 URL (예: `https://kr.api.riotgames.com`) |
| `RIOT_API_KEY`          | Riot API Key                                           |
| `SERVER_URL`            | 매치 통계 업데이트 등을 위한 내부 API 서버 주소          |
